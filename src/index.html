<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>

        <style>
            body,
            html, #container-plugin, #container-plugin-fragment {
                margin: 0;
                padding: 0;
                width: 100%;
                height: 100%;
            };
            .container-plugin-fragment {
                display: flex;
                height: 100%;
            };
        </style>
    </head>
    <body>
        <div id="container-plugin"></div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/2.2.10/custom-elements-es5-adapter.js"></script>
        <script src="../dist/main.js"></script>
        <script>
            function injectMicrofrontEnd(tagMfe) {
                const container = window.document.getElementById('container-plugin');
                const idMfe = `${container?.id}-fragment`;

                if (container?.ownerDocument.getElementById(idMfe)) {
                    const node = container?.ownerDocument.getElementById(idMfe);
                    container.removeChild(node);
                }

                const pluginProps = {
                    userData: {
                        name: 'Luiz Campos',
                        email: 'luiz@wlck.com.br',
                    },
                    isSelfOnboarding: true,
                    activationOption: 'active',
                    routerData: {
                        shortName: 'skepsqmqd',
                        accessKey: 'Key c2tlcHNxbXFkOnZCRnk2RzB6TkVUZVByR01rdG50',
                        skillTransbordo: {
                            shortName: 'skepsmainqmqd',
                            accessKey: 'eWN3cFdpOUFXM1U4b2JOVHRNQW4=',
                        },
                    },
                };

                const mfe = document.createElement(tagMfe);
                mfe.id = idMfe;
                mfe.classList.add('container-plugin-fragment');
                mfe.setAttributeNS(null, 'pluginProps', JSON.stringify(pluginProps));
                container?.appendChild(mfe);
            }

            injectMicrofrontEnd('container-plugins');
        </script>
    </body>
</html>
